<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCBDC Transaction Processor: cbdc::parsec::agent::runner::evm_host Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OpenCBDC Transaction Processor
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">cbdc::parsec::agent::runner::evm_host Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of the evmc::Host interface using PARSEC as the backend database.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="host_8hpp_source.html">host.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for cbdc::parsec::agent::runner::evm_host:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host__inherit__graph.png" border="0" usemap="#acbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_inherit__map" alt="Inheritance graph"/></div>
<map name="acbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_inherit__map" id="acbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_inherit__map">
<area shape="rect" title="Implementation of the evmc::Host interface using PARSEC as the backend database." alt="" coords="5,79,138,120"/>
<area shape="rect" title=" " alt="" coords="28,5,115,31"/>
<area shape="poly" title=" " alt="" coords="74,46,74,79,69,79,69,46"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for cbdc::parsec::agent::runner::evm_host:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host__coll__graph.png" border="0" usemap="#acbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_coll__map" alt="Collaboration graph"/></div>
<map name="acbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_coll__map" id="acbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_coll__map">
<area shape="rect" title="Implementation of the evmc::Host interface using PARSEC as the backend database." alt="" coords="5,79,138,120"/>
<area shape="rect" title=" " alt="" coords="28,5,115,31"/>
<area shape="poly" title=" " alt="" coords="74,46,74,79,69,79,69,46"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:afaca3504c0e01f709848eaa4ae09f176" id="r_afaca3504c0e01f709848eaa4ae09f176"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afaca3504c0e01f709848eaa4ae09f176">indexed_logs_type</a> = std::unordered_map&lt;evmc::address, std::vector&lt;<a class="el" href="structcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__log.html">evm_log</a>&gt;&gt;</td></tr>
<tr class="separator:afaca3504c0e01f709848eaa4ae09f176"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a98969f467e06e6c90633d1a22e5a5298" id="r_a98969f467e06e6c90633d1a22e5a5298"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98969f467e06e6c90633d1a22e5a5298">evm_host</a> (std::shared_ptr&lt; <a class="el" href="classcbdc_1_1logging_1_1log.html">logging::log</a> &gt; log, <a class="el" href="classcbdc_1_1parsec_1_1agent_1_1runner_1_1interface.html#a921cfebcd7367e8310eb9fd9214f445b">interface::try_lock_callback_type</a> try_lock_callback, evmc_tx_context tx_context, <a class="el" href="structcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__tx.html">evm_tx</a> tx, bool is_readonly_run, <a class="el" href="classcbdc_1_1parsec_1_1agent_1_1runner_1_1interface.html#ad281d7a5c2939bdb4bad95fc40d441cd">interface::ticket_number_type</a> ticket_number)</td></tr>
<tr class="memdesc:a98969f467e06e6c90633d1a22e5a5298"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new host instance.  <br /></td></tr>
<tr class="separator:a98969f467e06e6c90633d1a22e5a5298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b3dfca9cd822b34a0b8220c506f69ef" id="r_a7b3dfca9cd822b34a0b8220c506f69ef"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b3dfca9cd822b34a0b8220c506f69ef">account_exists</a> (const evmc::address &amp;addr) const noexcept -&gt; bool override</td></tr>
<tr class="separator:a7b3dfca9cd822b34a0b8220c506f69ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d8e6ba8ac105189c314f2e4737f0049" id="r_a6d8e6ba8ac105189c314f2e4737f0049"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d8e6ba8ac105189c314f2e4737f0049">get_storage</a> (const evmc::address &amp;addr, const evmc::bytes32 &amp;key) const noexcept -&gt; evmc::bytes32 override final</td></tr>
<tr class="separator:a6d8e6ba8ac105189c314f2e4737f0049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab89f00d301697f37dc80ac95312dac04" id="r_ab89f00d301697f37dc80ac95312dac04"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab89f00d301697f37dc80ac95312dac04">set_storage</a> (const evmc::address &amp;addr, const evmc::bytes32 &amp;key, const evmc::bytes32 &amp;value) noexcept -&gt; evmc_storage_status override final</td></tr>
<tr class="separator:ab89f00d301697f37dc80ac95312dac04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c294fee9a7811ef8df97e9c1a9a13a" id="r_a30c294fee9a7811ef8df97e9c1a9a13a"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30c294fee9a7811ef8df97e9c1a9a13a">get_balance</a> (const evmc::address &amp;addr) const noexcept -&gt; evmc::uint256be override final</td></tr>
<tr class="separator:a30c294fee9a7811ef8df97e9c1a9a13a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9c06f0bed88df006731e5ae8d8b71e4" id="r_ac9c06f0bed88df006731e5ae8d8b71e4"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9c06f0bed88df006731e5ae8d8b71e4">get_code_size</a> (const evmc::address &amp;addr) const noexcept -&gt; size_t override final</td></tr>
<tr class="separator:ac9c06f0bed88df006731e5ae8d8b71e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f9fa425ee648958aa9f50eb11c22c0f" id="r_a3f9fa425ee648958aa9f50eb11c22c0f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f9fa425ee648958aa9f50eb11c22c0f">get_code_hash</a> (const evmc::address &amp;addr) const noexcept -&gt; evmc::bytes32 override final</td></tr>
<tr class="separator:a3f9fa425ee648958aa9f50eb11c22c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b1c55194961d320617db59e09792d34" id="r_a9b1c55194961d320617db59e09792d34"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b1c55194961d320617db59e09792d34">copy_code</a> (const evmc::address &amp;addr, size_t code_offset, uint8_t *buffer_data, size_t buffer_size) const noexcept -&gt; size_t override final</td></tr>
<tr class="separator:a9b1c55194961d320617db59e09792d34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8533e5fa4d7895cf6b998a8999c903" id="r_aba8533e5fa4d7895cf6b998a8999c903"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba8533e5fa4d7895cf6b998a8999c903">selfdestruct</a> (const evmc::address &amp;addr, const evmc::address &amp;beneficiary) noexcept -&gt; bool override final</td></tr>
<tr class="separator:aba8533e5fa4d7895cf6b998a8999c903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e4bcec2a23a45da7923058f64c798c7" id="r_a9e4bcec2a23a45da7923058f64c798c7"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e4bcec2a23a45da7923058f64c798c7">call</a> (const evmc_message &amp;msg) noexcept -&gt; evmc::Result override final</td></tr>
<tr class="separator:a9e4bcec2a23a45da7923058f64c798c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57c75798b96186016d39baffc96456fb" id="r_a57c75798b96186016d39baffc96456fb"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57c75798b96186016d39baffc96456fb">get_tx_context</a> () const noexcept -&gt; evmc_tx_context override final</td></tr>
<tr class="separator:a57c75798b96186016d39baffc96456fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28762762bb5097a8695bab14f3ada69" id="r_aa28762762bb5097a8695bab14f3ada69"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa28762762bb5097a8695bab14f3ada69">get_block_hash</a> (int64_t number) const noexcept -&gt; evmc::bytes32 override final</td></tr>
<tr class="separator:aa28762762bb5097a8695bab14f3ada69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab10d0df32dead864870326507448ee37" id="r_ab10d0df32dead864870326507448ee37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab10d0df32dead864870326507448ee37">emit_log</a> (const evmc::address &amp;addr, const uint8_t *data, size_t data_size, const evmc::bytes32 topics[], size_t topics_count) noexcept override final</td></tr>
<tr class="separator:ab10d0df32dead864870326507448ee37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae65aa2d919b459f601a0ad7bfbf3a167" id="r_ae65aa2d919b459f601a0ad7bfbf3a167"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae65aa2d919b459f601a0ad7bfbf3a167">access_account</a> (const evmc::address &amp;addr) noexcept -&gt; evmc_access_status override final</td></tr>
<tr class="separator:ae65aa2d919b459f601a0ad7bfbf3a167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cfb97c67f2bc952d593c6ec91a6c152" id="r_a9cfb97c67f2bc952d593c6ec91a6c152"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9cfb97c67f2bc952d593c6ec91a6c152">access_storage</a> (const evmc::address &amp;addr, const evmc::bytes32 &amp;key) noexcept -&gt; evmc_access_status override final</td></tr>
<tr class="separator:a9cfb97c67f2bc952d593c6ec91a6c152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a046cf2deac12d14addb8dce046673871" id="r_a046cf2deac12d14addb8dce046673871"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a046cf2deac12d14addb8dce046673871">get_log_index_keys</a> () const -&gt; std::vector&lt; <a class="el" href="classcbdc_1_1buffer.html">cbdc::buffer</a> &gt;</td></tr>
<tr class="memdesc:a046cf2deac12d14addb8dce046673871"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the keys of the log indexes - these are sha256(addr, ticket) and will get value 1 - to indicate there are logs for the given address in the given ticket.  <br /></td></tr>
<tr class="separator:a046cf2deac12d14addb8dce046673871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1532d18ed3d25ee949126ccfb1089db" id="r_af1532d18ed3d25ee949126ccfb1089db"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1532d18ed3d25ee949126ccfb1089db">get_state_updates</a> () const -&gt; <a class="el" href="namespacecbdc_1_1parsec_1_1runtime__locking__shard.html#ac15979ae360f753028e76cd968394d86">runtime_locking_shard::state_update_type</a></td></tr>
<tr class="memdesc:af1532d18ed3d25ee949126ccfb1089db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the changes to the state resulting from transaction execution.  <br /></td></tr>
<tr class="separator:af1532d18ed3d25ee949126ccfb1089db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a219acabf12c7bfb3df7ed24fc9d49f40" id="r_a219acabf12c7bfb3df7ed24fc9d49f40"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a219acabf12c7bfb3df7ed24fc9d49f40">should_retry</a> () const -&gt; bool</td></tr>
<tr class="memdesc:a219acabf12c7bfb3df7ed24fc9d49f40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the transaction needs to be retried due to a transient error.  <br /></td></tr>
<tr class="separator:a219acabf12c7bfb3df7ed24fc9d49f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60bc4aeea056c85caa56de76a3b5fcf2" id="r_a60bc4aeea056c85caa56de76a3b5fcf2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60bc4aeea056c85caa56de76a3b5fcf2">insert_account</a> (const evmc::address &amp;addr, const <a class="el" href="structcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__account.html">evm_account</a> &amp;acc)</td></tr>
<tr class="memdesc:a60bc4aeea056c85caa56de76a3b5fcf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts an account into the host.  <br /></td></tr>
<tr class="separator:a60bc4aeea056c85caa56de76a3b5fcf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5830a036d36432dcfc3254f15bab7f4e" id="r_a5830a036d36432dcfc3254f15bab7f4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5830a036d36432dcfc3254f15bab7f4e">finalize</a> (int64_t gas_left, int64_t gas_used)</td></tr>
<tr class="memdesc:a5830a036d36432dcfc3254f15bab7f4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalizes the state updates resulting from the transaction.  <br /></td></tr>
<tr class="separator:a5830a036d36432dcfc3254f15bab7f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a667355b47aa6436680760b6e97f933b4" id="r_a667355b47aa6436680760b6e97f933b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a667355b47aa6436680760b6e97f933b4">revert</a> ()</td></tr>
<tr class="memdesc:a667355b47aa6436680760b6e97f933b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the state updates to revert the transaction changes due to a contract error.  <br /></td></tr>
<tr class="separator:a667355b47aa6436680760b6e97f933b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cf0fd9ce9cbec3fdfb7557d4d74be61" id="r_a6cf0fd9ce9cbec3fdfb7557d4d74be61"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cf0fd9ce9cbec3fdfb7557d4d74be61">ticket_number_key</a> (std::optional&lt; <a class="el" href="classcbdc_1_1parsec_1_1agent_1_1runner_1_1interface.html#ad281d7a5c2939bdb4bad95fc40d441cd">interface::ticket_number_type</a> &gt; tn=std::nullopt) const -&gt; <a class="el" href="classcbdc_1_1buffer.html">cbdc::buffer</a></td></tr>
<tr class="memdesc:a6cf0fd9ce9cbec3fdfb7557d4d74be61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the key for the host's ticket number, which is the hash of the ticket number's serialized representation to uniformly distribute all ticket-to-tx mappings across the shards.  <br /></td></tr>
<tr class="separator:a6cf0fd9ce9cbec3fdfb7557d4d74be61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab652294fefa609ac468f74a08e4ffaca" id="r_ab652294fefa609ac468f74a08e4ffaca"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab652294fefa609ac468f74a08e4ffaca">log_index_key</a> (evmc::address addr, std::optional&lt; <a class="el" href="classcbdc_1_1parsec_1_1agent_1_1runner_1_1interface.html#ad281d7a5c2939bdb4bad95fc40d441cd">interface::ticket_number_type</a> &gt; tn=std::nullopt) const -&gt; <a class="el" href="classcbdc_1_1buffer.html">cbdc::buffer</a></td></tr>
<tr class="memdesc:ab652294fefa609ac468f74a08e4ffaca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the key for the indicator of the existence of logs for a particular address at a particular ticket.  <br /></td></tr>
<tr class="separator:ab652294fefa609ac468f74a08e4ffaca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the evmc::Host interface using PARSEC as the backend database. </p>
<p>Manages the cached state during contract execution to support committing the final state updates or reverting while still charging gas. Undocumented functions below are inhereted from evmc::Host and are documented upstream. </p>

<p class="definition">Definition at line <a class="el" href="host_8hpp_source.html#l00024">24</a> of file <a class="el" href="host_8hpp_source.html">host.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="afaca3504c0e01f709848eaa4ae09f176" name="afaca3504c0e01f709848eaa4ae09f176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaca3504c0e01f709848eaa4ae09f176">&#9670;&#160;</a></span>indexed_logs_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#afaca3504c0e01f709848eaa4ae09f176">cbdc::parsec::agent::runner::evm_host::indexed_logs_type</a> = std::unordered_map&lt;evmc::address, std::vector&lt;<a class="el" href="structcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__log.html">evm_log</a>&gt;&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8hpp_source.html#l00100">100</a> of file <a class="el" href="host_8hpp_source.html">host.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a98969f467e06e6c90633d1a22e5a5298" name="a98969f467e06e6c90633d1a22e5a5298"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98969f467e06e6c90633d1a22e5a5298">&#9670;&#160;</a></span>evm_host()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cbdc::parsec::agent::runner::evm_host::evm_host </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classcbdc_1_1logging_1_1log.html">logging::log</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>log</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcbdc_1_1parsec_1_1agent_1_1runner_1_1interface.html#a921cfebcd7367e8310eb9fd9214f445b">interface::try_lock_callback_type</a></td>          <td class="paramname"><span class="paramname"><em>try_lock_callback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evmc_tx_context</td>          <td class="paramname"><span class="paramname"><em>tx_context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__tx.html">evm_tx</a></td>          <td class="paramname"><span class="paramname"><em>tx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>is_readonly_run</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcbdc_1_1parsec_1_1agent_1_1runner_1_1interface.html#ad281d7a5c2939bdb4bad95fc40d441cd">interface::ticket_number_type</a></td>          <td class="paramname"><span class="paramname"><em>ticket_number</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new host instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>log instance. </td></tr>
    <tr><td class="paramname">try_lock_callback</td><td>function for requesting locks on keys. </td></tr>
    <tr><td class="paramname">tx_context</td><td>evmc context in which the transaction will execute. </td></tr>
    <tr><td class="paramname">tx</td><td>transaction to execute. </td></tr>
    <tr><td class="paramname">is_readonly_run</td><td>true if no state changes should be applied. </td></tr>
    <tr><td class="paramname">ticket_number</td><td>ticket number for transaction. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00023">23</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="parsec_2agent_2runners_2evm_2messages_8hpp_source.html#l00124">cbdc::parsec::agent::runner::evm_tx_receipt::m_ticket_number</a>, and <a class="el" href="parsec_2agent_2runners_2evm_2messages_8hpp_source.html#l00112">cbdc::parsec::agent::runner::evm_tx_receipt::m_tx</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae65aa2d919b459f601a0ad7bfbf3a167" name="ae65aa2d919b459f601a0ad7bfbf3a167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae65aa2d919b459f601a0ad7bfbf3a167">&#9670;&#160;</a></span>access_account()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::access_account </td>
          <td>(</td>
          <td class="paramtype">const evmc::address &amp;</td>          <td class="paramname"><span class="paramname"><em>addr</em></span></td><td>)</td>
          <td> -&gt; evmc_access_status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00396">396</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="agent_2runners_2evm_2util_8cpp_source.html#l00027">cbdc::parsec::agent::runner::to_hex()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ae65aa2d919b459f601a0ad7bfbf3a167_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ae65aa2d919b459f601a0ad7bfbf3a167_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ae65aa2d919b459f601a0ad7bfbf3a167_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ae65aa2d919b459f601a0ad7bfbf3a167_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,138,61"/>
<area shape="rect" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html#a60c9502b9147e58735537c4161b10951" title=" " alt="" coords="186,13,318,54"/>
<area shape="poly" title=" " alt="" coords="138,30,170,30,170,36,138,36"/>
</map>
</div>

</div>
</div>
<a id="a9cfb97c67f2bc952d593c6ec91a6c152" name="a9cfb97c67f2bc952d593c6ec91a6c152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cfb97c67f2bc952d593c6ec91a6c152">&#9670;&#160;</a></span>access_storage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::access_storage </td>
          <td>(</td>
          <td class="paramtype">const evmc::address &amp;</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const evmc::bytes32 &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>&#160;) -&gt; evmc_access_status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00406">406</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="agent_2runners_2evm_2util_8cpp_source.html#l00027">cbdc::parsec::agent::runner::to_hex()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a9cfb97c67f2bc952d593c6ec91a6c152_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a9cfb97c67f2bc952d593c6ec91a6c152_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a9cfb97c67f2bc952d593c6ec91a6c152_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a9cfb97c67f2bc952d593c6ec91a6c152_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,138,61"/>
<area shape="rect" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html#a60c9502b9147e58735537c4161b10951" title=" " alt="" coords="186,13,318,54"/>
<area shape="poly" title=" " alt="" coords="138,30,170,30,170,36,138,36"/>
</map>
</div>

</div>
</div>
<a id="a7b3dfca9cd822b34a0b8220c506f69ef" name="a7b3dfca9cd822b34a0b8220c506f69ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b3dfca9cd822b34a0b8220c506f69ef">&#9670;&#160;</a></span>account_exists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::account_exists </td>
          <td>(</td>
          <td class="paramtype">const evmc::address &amp;</td>          <td class="paramname"><span class="paramname"><em>addr</em></span></td><td>)</td>
          <td> const -&gt; bool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">nodiscard</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00083">83</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="agent_2runners_2evm_2util_8cpp_source.html#l00027">cbdc::parsec::agent::runner::to_hex()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a7b3dfca9cd822b34a0b8220c506f69ef_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a7b3dfca9cd822b34a0b8220c506f69ef_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a7b3dfca9cd822b34a0b8220c506f69ef_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a7b3dfca9cd822b34a0b8220c506f69ef_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,138,61"/>
<area shape="rect" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html#a60c9502b9147e58735537c4161b10951" title=" " alt="" coords="186,13,318,54"/>
<area shape="poly" title=" " alt="" coords="138,30,170,30,170,36,138,36"/>
</map>
</div>

</div>
</div>
<a id="a9e4bcec2a23a45da7923058f64c798c7" name="a9e4bcec2a23a45da7923058f64c798c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e4bcec2a23a45da7923058f64c798c7">&#9670;&#160;</a></span>call()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::call </td>
          <td>(</td>
          <td class="paramtype">const evmc_message &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td> -&gt; evmc::Result</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00300">300</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="namespacecbdc.html#a8e2f365d0bb01c7a66882ed33eea9e4ea7f2db423a49b305459147332fb01cf87">cbdc::buffer</a>, <a class="el" href="agent_2runners_2evm_2util_8cpp_source.html#l00027">cbdc::parsec::agent::runner::to_hex()</a>, and <a class="el" href="namespacecbdc_1_1parsec.html#aa6e5f076020399a54c18c49b8d2e89b3a84a0f3455dcca894ace136be62efa292">cbdc::parsec::transfer</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a9e4bcec2a23a45da7923058f64c798c7_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a9e4bcec2a23a45da7923058f64c798c7_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a9e4bcec2a23a45da7923058f64c798c7_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a9e4bcec2a23a45da7923058f64c798c7_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,158,46"/>
<area shape="rect" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html#a60c9502b9147e58735537c4161b10951" title=" " alt="" coords="206,5,338,46"/>
<area shape="poly" title=" " alt="" coords="158,23,191,23,191,28,158,28"/>
</map>
</div>

</div>
</div>
<a id="a9b1c55194961d320617db59e09792d34" name="a9b1c55194961d320617db59e09792d34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b1c55194961d320617db59e09792d34">&#9670;&#160;</a></span>copy_code()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::copy_code </td>
          <td>(</td>
          <td class="paramtype">const evmc::address &amp;</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>code_offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>buffer_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>buffer_size</em></span>&#160;) const -&gt; size_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00192">192</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="agent_2runners_2evm_2util_8cpp_source.html#l00027">cbdc::parsec::agent::runner::to_hex()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a9b1c55194961d320617db59e09792d34_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a9b1c55194961d320617db59e09792d34_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a9b1c55194961d320617db59e09792d34_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a9b1c55194961d320617db59e09792d34_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,138,61"/>
<area shape="rect" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html#a60c9502b9147e58735537c4161b10951" title=" " alt="" coords="186,13,318,54"/>
<area shape="poly" title=" " alt="" coords="138,30,170,30,170,36,138,36"/>
</map>
</div>

</div>
</div>
<a id="ab10d0df32dead864870326507448ee37" name="ab10d0df32dead864870326507448ee37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab10d0df32dead864870326507448ee37">&#9670;&#160;</a></span>emit_log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cbdc::parsec::agent::runner::evm_host::emit_log </td>
          <td>(</td>
          <td class="paramtype">const evmc::address &amp;</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>data_size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const evmc::bytes32</td>          <td class="paramname"><span class="paramname"><em>topics</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>topics_count</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00378">378</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

</div>
</div>
<a id="a5830a036d36432dcfc3254f15bab7f4e" name="a5830a036d36432dcfc3254f15bab7f4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5830a036d36432dcfc3254f15bab7f4e">&#9670;&#160;</a></span>finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cbdc::parsec::agent::runner::evm_host::finalize </td>
          <td>(</td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>gas_left</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>gas_used</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalizes the state updates resulting from the transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gas_left</td><td>remaining unspent gas. </td></tr>
    <tr><td class="paramname">gas_used</td><td>total gas consumed by the transaction. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00568">568</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="parsec_2agent_2runners_2evm_2messages_8hpp_source.html#l00116">cbdc::parsec::agent::runner::evm_tx_receipt::m_gas_used</a>, and <a class="el" href="parsec_2agent_2runners_2evm_2messages_8hpp_source.html#l00127">cbdc::parsec::agent::runner::evm_tx_receipt::m_timestamp</a>.</p>

</div>
</div>
<a id="a30c294fee9a7811ef8df97e9c1a9a13a" name="a30c294fee9a7811ef8df97e9c1a9a13a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30c294fee9a7811ef8df97e9c1a9a13a">&#9670;&#160;</a></span>get_balance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::get_balance </td>
          <td>(</td>
          <td class="paramtype">const evmc::address &amp;</td>          <td class="paramname"><span class="paramname"><em>addr</em></span></td><td>)</td>
          <td> const -&gt; evmc::uint256be</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">nodiscard</span><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00150">150</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="agent_2runners_2evm_2util_8cpp_source.html#l00027">cbdc::parsec::agent::runner::to_hex()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a30c294fee9a7811ef8df97e9c1a9a13a_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a30c294fee9a7811ef8df97e9c1a9a13a_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a30c294fee9a7811ef8df97e9c1a9a13a_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a30c294fee9a7811ef8df97e9c1a9a13a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,138,61"/>
<area shape="rect" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html#a60c9502b9147e58735537c4161b10951" title=" " alt="" coords="186,13,318,54"/>
<area shape="poly" title=" " alt="" coords="138,30,170,30,170,36,138,36"/>
</map>
</div>

</div>
</div>
<a id="aa28762762bb5097a8695bab14f3ada69" name="aa28762762bb5097a8695bab14f3ada69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28762762bb5097a8695bab14f3ada69">&#9670;&#160;</a></span>get_block_hash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::get_block_hash </td>
          <td>(</td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>number</em></span></td><td>)</td>
          <td> const -&gt; evmc::bytes32</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">nodiscard</span><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00371">371</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

</div>
</div>
<a id="a3f9fa425ee648958aa9f50eb11c22c0f" name="a3f9fa425ee648958aa9f50eb11c22c0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f9fa425ee648958aa9f50eb11c22c0f">&#9670;&#160;</a></span>get_code_hash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::get_code_hash </td>
          <td>(</td>
          <td class="paramtype">const evmc::address &amp;</td>          <td class="paramname"><span class="paramname"><em>addr</em></span></td><td>)</td>
          <td> const -&gt; evmc::bytes32</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">nodiscard</span><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00175">175</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="agent_2runners_2evm_2util_8cpp_source.html#l00027">cbdc::parsec::agent::runner::to_hex()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a3f9fa425ee648958aa9f50eb11c22c0f_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a3f9fa425ee648958aa9f50eb11c22c0f_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a3f9fa425ee648958aa9f50eb11c22c0f_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a3f9fa425ee648958aa9f50eb11c22c0f_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,138,61"/>
<area shape="rect" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html#a60c9502b9147e58735537c4161b10951" title=" " alt="" coords="186,13,318,54"/>
<area shape="poly" title=" " alt="" coords="138,30,170,30,170,36,138,36"/>
</map>
</div>

</div>
</div>
<a id="ac9c06f0bed88df006731e5ae8d8b71e4" name="ac9c06f0bed88df006731e5ae8d8b71e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9c06f0bed88df006731e5ae8d8b71e4">&#9670;&#160;</a></span>get_code_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::get_code_size </td>
          <td>(</td>
          <td class="paramtype">const evmc::address &amp;</td>          <td class="paramname"><span class="paramname"><em>addr</em></span></td><td>)</td>
          <td> const -&gt; size_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">nodiscard</span><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00162">162</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="agent_2runners_2evm_2util_8cpp_source.html#l00027">cbdc::parsec::agent::runner::to_hex()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ac9c06f0bed88df006731e5ae8d8b71e4_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ac9c06f0bed88df006731e5ae8d8b71e4_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ac9c06f0bed88df006731e5ae8d8b71e4_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ac9c06f0bed88df006731e5ae8d8b71e4_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,138,61"/>
<area shape="rect" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html#a60c9502b9147e58735537c4161b10951" title=" " alt="" coords="186,13,318,54"/>
<area shape="poly" title=" " alt="" coords="138,30,170,30,170,36,138,36"/>
</map>
</div>

</div>
</div>
<a id="a046cf2deac12d14addb8dce046673871" name="a046cf2deac12d14addb8dce046673871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a046cf2deac12d14addb8dce046673871">&#9670;&#160;</a></span>get_log_index_keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::get_log_index_keys </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const -&gt; std::vector&lt;<a class="el" href="classcbdc_1_1buffer.html">cbdc::buffer</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the keys of the log indexes - these are sha256(addr, ticket) and will get value 1 - to indicate there are logs for the given address in the given ticket. </p>
<p>The logs for the specific ticket can then be fetched and filtered on topic and address. </p><dl class="section return"><dt>Returns</dt><dd>list of keys to set to 1 for the log index </dd></dl>

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00452">452</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="host_8cpp_source.html#l00435">log_index_key()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a046cf2deac12d14addb8dce046673871_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a046cf2deac12d14addb8dce046673871_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a046cf2deac12d14addb8dce046673871_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a046cf2deac12d14addb8dce046673871_cgraph">
<area shape="rect" title="Return the keys of the log indexes &#45; these are sha256(addr, ticket) and will get value 1 &#45; to indicat..." alt="" coords="5,5,140,61"/>
<area shape="rect" href="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host.html#ab652294fefa609ac468f74a08e4ffaca" title="Return the key for the indicator of the existence of logs for a particular address at a particular ti..." alt="" coords="188,5,320,61"/>
<area shape="poly" title=" " alt="" coords="140,30,172,30,172,36,140,36"/>
<area shape="rect" href="namespacecbdc.html#aed9c6313b2ae6e3d7f01340ab5a3076b" title="Serialize object into nuraft::buffer using a cbdc::nuraft_serializer." alt="" coords="368,20,494,46"/>
<area shape="poly" title=" " alt="" coords="320,30,353,30,353,36,320,36"/>
<area shape="rect" href="namespacecbdc.html#a4dd685b58c8cf66f4489ab808915ab85" title="Calculates the serialized size in bytes of the given object when serialized using serializer." alt="" coords="542,20,682,46"/>
<area shape="poly" title=" " alt="" coords="495,30,527,30,527,36,495,36"/>
</map>
</div>

</div>
</div>
<a id="af1532d18ed3d25ee949126ccfb1089db" name="af1532d18ed3d25ee949126ccfb1089db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1532d18ed3d25ee949126ccfb1089db">&#9670;&#160;</a></span>get_state_updates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::get_state_updates </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const -&gt; <a class="el" href="namespacecbdc_1_1parsec_1_1runtime__locking__shard.html#ac15979ae360f753028e76cd968394d86">runtime_locking_shard::state_update_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the changes to the state resulting from transaction execution. </p>
<dl class="section return"><dt>Returns</dt><dd>list of updates keys and values. </dd></dl>

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00473">473</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="namespacecbdc.html#a8e2f365d0bb01c7a66882ed33eea9e4ea7f2db423a49b305459147332fb01cf87">cbdc::buffer</a>, <a class="el" href="host_8cpp_source.html#l00435">log_index_key()</a>, <a class="el" href="util_2raft_2util_8hpp_source.html#l00020">cbdc::make_buffer()</a>, <a class="el" href="host_8cpp_source.html#l00419">ticket_number_key()</a>, and <a class="el" href="parsec_2agent_2runners_2evm_2serialization_8cpp_source.html#l00021">cbdc::parsec::agent::runner::tx_id()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_af1532d18ed3d25ee949126ccfb1089db_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_af1532d18ed3d25ee949126ccfb1089db_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_af1532d18ed3d25ee949126ccfb1089db_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_af1532d18ed3d25ee949126ccfb1089db_cgraph">
<area shape="rect" title="Return the changes to the state resulting from transaction execution." alt="" coords="5,104,138,160"/>
<area shape="rect" href="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host.html#ab652294fefa609ac468f74a08e4ffaca" title="Return the key for the indicator of the existence of logs for a particular address at a particular ti..." alt="" coords="576,5,708,61"/>
<area shape="poly" title=" " alt="" coords="124,101,185,77,285,56,386,42,481,34,560,31,560,36,481,39,387,47,286,61,186,82,126,106"/>
<area shape="rect" href="namespacecbdc.html#aed9c6313b2ae6e3d7f01340ab5a3076b" title="Serialize object into nuraft::buffer using a cbdc::nuraft_serializer." alt="" coords="980,111,1106,137"/>
<area shape="poly" title=" " alt="" coords="138,119,273,104,431,96,643,96,816,102,965,113,964,119,816,107,643,101,431,101,273,109,138,125"/>
<area shape="rect" href="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host.html#a6cf0fd9ce9cbec3fdfb7557d4d74be61" title="Return the key for the host&#39;s ticket number, which is the hash of the ticket number&#39;s serialized repr..." alt="" coords="186,136,318,192"/>
<area shape="poly" title=" " alt="" coords="138,141,171,147,170,152,138,146"/>
<area shape="rect" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html#afb3648cf038f2cf0eb00b108bd23996c" title="Calculate ethereum&#45;compatible txid." alt="" coords="186,216,318,256"/>
<area shape="poly" title=" " alt="" coords="116,158,187,202,195,206,192,210,184,206,114,163"/>
<area shape="poly" title=" " alt="" coords="709,37,815,52,933,77,1001,102,999,107,931,82,814,57,708,42"/>
<area shape="rect" href="namespacecbdc.html#a4dd685b58c8cf66f4489ab808915ab85" title="Calculates the serialized size in bytes of the given object when serialized using serializer." alt="" coords="1154,111,1294,137"/>
<area shape="poly" title=" " alt="" coords="1107,121,1139,121,1139,126,1107,126"/>
<area shape="poly" title=" " alt="" coords="318,158,964,125,965,130,319,163"/>
<area shape="rect" href="namespacecbdc.html#ad4fab703f5eb66331e79abda8cffba00" title="Calculates the Keccak256 hash of the specified data." alt="" coords="368,187,497,213"/>
<area shape="poly" title=" " alt="" coords="318,220,352,213,353,218,319,225"/>
<area shape="rect" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html#a3bc8e3dae5bc3e09c7fd69b25cab8ec1" title="Converts the given transaction to an RLP encoded buffer conforming to Ethereums conventions." alt="" coords="366,237,498,278"/>
<area shape="poly" title=" " alt="" coords="319,241,351,245,350,250,318,246"/>
<area shape="rect" href="namespacecbdc.html#a4baddbf83d4464e27552307eb44b0254" title="Turns an existing value into an rlp_value by first serializing it as a cbdc::buffer,..." alt="" coords="786,194,932,219"/>
<area shape="poly" title=" " alt="" coords="498,238,546,229,663,215,770,208,771,213,663,221,547,234,499,243"/>
<area shape="rect" href="namespacecbdc.html#a34085e0fcf132d9237d3c54745593f95" title="RLP encodes an access list." alt="" coords="546,244,738,270"/>
<area shape="poly" title=" " alt="" coords="498,254,531,254,531,260,498,260"/>
<area shape="poly" title=" " alt="" coords="889,191,998,141,1000,146,891,195"/>
<area shape="poly" title=" " alt="" coords="700,241,785,221,787,226,701,246"/>
<area shape="rect" href="namespacecbdc.html#affe8176afd2f6240bef835fe8abded3c" title="Turns multiple rlp_value objects into an rlp_value of type array." alt="" coords="787,244,930,270"/>
<area shape="poly" title=" " alt="" coords="738,254,771,254,771,260,738,260"/>
</map>
</div>

</div>
</div>
<a id="a6d8e6ba8ac105189c314f2e4737f0049" name="a6d8e6ba8ac105189c314f2e4737f0049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d8e6ba8ac105189c314f2e4737f0049">&#9670;&#160;</a></span>get_storage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::get_storage </td>
          <td>(</td>
          <td class="paramtype">const evmc::address &amp;</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const evmc::bytes32 &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>&#160;) const -&gt; evmc::bytes32</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">nodiscard</span><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00095">95</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="agent_2runners_2evm_2util_8cpp_source.html#l00027">cbdc::parsec::agent::runner::to_hex()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a6d8e6ba8ac105189c314f2e4737f0049_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a6d8e6ba8ac105189c314f2e4737f0049_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a6d8e6ba8ac105189c314f2e4737f0049_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a6d8e6ba8ac105189c314f2e4737f0049_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,138,61"/>
<area shape="rect" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html#a60c9502b9147e58735537c4161b10951" title=" " alt="" coords="186,13,318,54"/>
<area shape="poly" title=" " alt="" coords="138,30,170,30,170,36,138,36"/>
</map>
</div>

</div>
</div>
<a id="a57c75798b96186016d39baffc96456fb" name="a57c75798b96186016d39baffc96456fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57c75798b96186016d39baffc96456fb">&#9670;&#160;</a></span>get_tx_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::get_tx_context </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const -&gt; evmc_tx_context</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">nodiscard</span><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00367">367</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

</div>
</div>
<a id="a60bc4aeea056c85caa56de76a3b5fcf2" name="a60bc4aeea056c85caa56de76a3b5fcf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60bc4aeea056c85caa56de76a3b5fcf2">&#9670;&#160;</a></span>insert_account()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cbdc::parsec::agent::runner::evm_host::insert_account </td>
          <td>(</td>
          <td class="paramtype">const evmc::address &amp;</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__account.html">evm_account</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>acc</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inserts an account into the host. </p>
<p>The host will assume the lock is already held on the account metadata. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>account address. </td></tr>
    <tr><td class="paramname">acc</td><td>account metadata. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00533">533</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

</div>
</div>
<a id="ab652294fefa609ac468f74a08e4ffaca" name="ab652294fefa609ac468f74a08e4ffaca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab652294fefa609ac468f74a08e4ffaca">&#9670;&#160;</a></span>log_index_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::log_index_key </td>
          <td>(</td>
          <td class="paramtype">evmc::address</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="classcbdc_1_1parsec_1_1agent_1_1runner_1_1interface.html#ad281d7a5c2939bdb4bad95fc40d441cd">interface::ticket_number_type</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>tn</em></span><span class="paramdefsep"> = </span><span class="paramdefval">std::nullopt</span>&#160;) const -&gt; <a class="el" href="classcbdc_1_1buffer.html">cbdc::buffer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the key for the indicator of the existence of logs for a particular address at a particular ticket. </p>

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00435">435</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="util_2raft_2util_8hpp_source.html#l00020">cbdc::make_buffer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="host_8cpp_source.html#l00452">get_log_index_keys()</a>, and <a class="el" href="host_8cpp_source.html#l00473">get_state_updates()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ab652294fefa609ac468f74a08e4ffaca_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ab652294fefa609ac468f74a08e4ffaca_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ab652294fefa609ac468f74a08e4ffaca_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ab652294fefa609ac468f74a08e4ffaca_cgraph">
<area shape="rect" title="Return the key for the indicator of the existence of logs for a particular address at a particular ti..." alt="" coords="5,5,138,61"/>
<area shape="rect" href="namespacecbdc.html#aed9c6313b2ae6e3d7f01340ab5a3076b" title="Serialize object into nuraft::buffer using a cbdc::nuraft_serializer." alt="" coords="186,20,312,46"/>
<area shape="poly" title=" " alt="" coords="138,30,170,30,170,36,138,36"/>
<area shape="rect" href="namespacecbdc.html#a4dd685b58c8cf66f4489ab808915ab85" title="Calculates the serialized size in bytes of the given object when serialized using serializer." alt="" coords="360,20,499,46"/>
<area shape="poly" title=" " alt="" coords="312,30,345,30,345,36,312,36"/>
</map>
</div>

</div>
</div>
<a id="a667355b47aa6436680760b6e97f933b4" name="a667355b47aa6436680760b6e97f933b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a667355b47aa6436680760b6e97f933b4">&#9670;&#160;</a></span>revert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cbdc::parsec::agent::runner::evm_host::revert </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the state updates to revert the transaction changes due to a contract error. </p>

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00586">586</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

</div>
</div>
<a id="aba8533e5fa4d7895cf6b998a8999c903" name="aba8533e5fa4d7895cf6b998a8999c903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba8533e5fa4d7895cf6b998a8999c903">&#9670;&#160;</a></span>selfdestruct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::selfdestruct </td>
          <td>(</td>
          <td class="paramtype">const evmc::address &amp;</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const evmc::address &amp;</td>          <td class="paramname"><span class="paramname"><em>beneficiary</em></span>&#160;) -&gt; bool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00217">217</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="agent_2runners_2evm_2util_8cpp_source.html#l00027">cbdc::parsec::agent::runner::to_hex()</a>, and <a class="el" href="namespacecbdc_1_1parsec.html#aa6e5f076020399a54c18c49b8d2e89b3a84a0f3455dcca894ace136be62efa292">cbdc::parsec::transfer</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_aba8533e5fa4d7895cf6b998a8999c903_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_aba8533e5fa4d7895cf6b998a8999c903_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_aba8533e5fa4d7895cf6b998a8999c903_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_aba8533e5fa4d7895cf6b998a8999c903_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,138,61"/>
<area shape="rect" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html#a60c9502b9147e58735537c4161b10951" title=" " alt="" coords="186,13,318,54"/>
<area shape="poly" title=" " alt="" coords="138,30,170,30,170,36,138,36"/>
</map>
</div>

</div>
</div>
<a id="ab89f00d301697f37dc80ac95312dac04" name="ab89f00d301697f37dc80ac95312dac04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab89f00d301697f37dc80ac95312dac04">&#9670;&#160;</a></span>set_storage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::set_storage </td>
          <td>(</td>
          <td class="paramtype">const evmc::address &amp;</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const evmc::bytes32 &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const evmc::bytes32 &amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;) -&gt; evmc_storage_status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00104">104</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="agent_2runners_2evm_2util_8cpp_source.html#l00027">cbdc::parsec::agent::runner::to_hex()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ab89f00d301697f37dc80ac95312dac04_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ab89f00d301697f37dc80ac95312dac04_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ab89f00d301697f37dc80ac95312dac04_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_ab89f00d301697f37dc80ac95312dac04_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,138,61"/>
<area shape="rect" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html#a60c9502b9147e58735537c4161b10951" title=" " alt="" coords="186,13,318,54"/>
<area shape="poly" title=" " alt="" coords="138,30,170,30,170,36,138,36"/>
</map>
</div>

</div>
</div>
<a id="a219acabf12c7bfb3df7ed24fc9d49f40" name="a219acabf12c7bfb3df7ed24fc9d49f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a219acabf12c7bfb3df7ed24fc9d49f40">&#9670;&#160;</a></span>should_retry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::should_retry </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const -&gt; bool</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether the transaction needs to be retried due to a transient error. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the transaction needs to be re-executed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00529">529</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

</div>
</div>
<a id="a6cf0fd9ce9cbec3fdfb7557d4d74be61" name="a6cf0fd9ce9cbec3fdfb7557d4d74be61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cf0fd9ce9cbec3fdfb7557d4d74be61">&#9670;&#160;</a></span>ticket_number_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::parsec::agent::runner::evm_host::ticket_number_key </td>
          <td>(</td>
          <td class="paramtype">std::optional&lt; <a class="el" href="classcbdc_1_1parsec_1_1agent_1_1runner_1_1interface.html#ad281d7a5c2939bdb4bad95fc40d441cd">interface::ticket_number_type</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>tn</em></span><span class="paramdefsep"> = </span><span class="paramdefval">std::nullopt</span></td><td>)</td>
          <td> const -&gt; <a class="el" href="classcbdc_1_1buffer.html">cbdc::buffer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the key for the host's ticket number, which is the hash of the ticket number's serialized representation to uniformly distribute all ticket-to-tx mappings across the shards. </p>
<dl class="section return"><dt>Returns</dt><dd>ticket number key </dd></dl>

<p class="definition">Definition at line <a class="el" href="host_8cpp_source.html#l00419">419</a> of file <a class="el" href="host_8cpp_source.html">host.cpp</a>.</p>

<p class="reference">References <a class="el" href="util_2raft_2util_8hpp_source.html#l00020">cbdc::make_buffer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="host_8cpp_source.html#l00473">get_state_updates()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a6cf0fd9ce9cbec3fdfb7557d4d74be61_cgraph.png" border="0" usemap="#aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a6cf0fd9ce9cbec3fdfb7557d4d74be61_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a6cf0fd9ce9cbec3fdfb7557d4d74be61_cgraph" id="aclasscbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host_a6cf0fd9ce9cbec3fdfb7557d4d74be61_cgraph">
<area shape="rect" title="Return the key for the host&#39;s ticket number, which is the hash of the ticket number&#39;s serialized repr..." alt="" coords="5,5,138,61"/>
<area shape="rect" href="namespacecbdc.html#aed9c6313b2ae6e3d7f01340ab5a3076b" title="Serialize object into nuraft::buffer using a cbdc::nuraft_serializer." alt="" coords="186,20,312,46"/>
<area shape="poly" title=" " alt="" coords="138,30,170,30,170,36,138,36"/>
<area shape="rect" href="namespacecbdc.html#a4dd685b58c8cf66f4489ab808915ab85" title="Calculates the serialized size in bytes of the given object when serialized using serializer." alt="" coords="360,20,499,46"/>
<area shape="poly" title=" " alt="" coords="312,30,345,30,345,36,312,36"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="host_8hpp_source.html">host.hpp</a></li>
<li><a class="el" href="host_8cpp_source.html">host.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecbdc.html">cbdc</a></li><li class="navelem"><a class="el" href="namespacecbdc_1_1parsec.html">parsec</a></li><li class="navelem"><a class="el" href="namespacecbdc_1_1parsec_1_1agent.html">agent</a></li><li class="navelem"><a class="el" href="namespacecbdc_1_1parsec_1_1agent_1_1runner.html">runner</a></li><li class="navelem"><a class="el" href="classcbdc_1_1parsec_1_1agent_1_1runner_1_1evm__host.html">evm_host</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
